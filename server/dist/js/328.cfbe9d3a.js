"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[328],{7328:function(e,a,l){l.r(a),l.d(a,{default:function(){return $}});l(9737);var t=l(6810),i=l(4195),n=l(3378),u=l(971),s=l(366),d=l(8276),o=l(4181),p=l(6252),c=l(3577),r=l(2262),m=l(2201),g=l(842),v=l(1348);const w={class:"machine-list"},_={style:{display:"flex","align-items":"center"}},f={style:{"margin-left":"10px"}},y={style:{display:"flex","align-items":"center"}},h={style:{"margin-left":"10px"}},z={style:{display:"flex","align-items":"center"}},b={style:{"margin-left":"10px"}},k={style:{display:"flex","align-items":"center"}},W={style:{"margin-left":"10px"}},x=(0,p.Uk)("发送指令"),H={class:"demo-pagination-block"},C=(0,p.Uk)(" 指令    "),U={class:"dialog-footer"},V=(0,p.Uk)("取消"),P=(0,p.Uk)("发送");var I={__name:"machine",setup(e){(0,r.iH)(null);const a=(0,r.iH)(!1),l=(0,r.iH)(!1),I=(0,r.iH)(!1),Y=((0,m.tv)(),(0,r.iH)(!1)),Z=(0,r.iH)({content:"",ip:""}),$=e=>{Y.value=!0,Z.value.ip=e.ip},j=async()=>{let e={ip:Z.value.ip,content:Z.value.content},a=await(0,g.$p)(e);console.log(a),2e3===a.code&&(v.z8.success("指令发送成功"),Y.value=!1,R())},B=(0,r.iH)(0),D=(0,r.iH)([]),E=(0,r.iH)({page:1,page_size:10}),R=((0,r.iH)(),async()=>{let e={page:E.value.page,page_size:E.value.page_size},a=await(0,g.cB)(e);2e3!==a.code&&(a.data=[]),D.value=a.data.list,B.value=a.data.total});R();const S=e=>{E.value.page_size=e,E.value.page=1,R()},q=e=>{E.value.page=e,R()};return(e,r)=>{const m=s.$Y,g=(0,p.up)("timer"),v=o.gn,R=d.mi,A=s.eI,F=u.R,G=n.EZ,J=i.nH,K=i.ly,L=t.d0;return(0,p.wg)(),(0,p.iD)(p.HY,null,[(0,p._)("div",w,[(0,p.Wm)(A,{data:D.value,style:{width:"100%"}},{default:(0,p.w5)((()=>[(0,p.Wm)(m,{label:"机器码",width:"280"},{default:(0,p.w5)((e=>[(0,p._)("div",_,[(0,p._)("span",f,(0,c.zw)(e.row.machine_code),1)])])),_:1}),(0,p.Wm)(m,{label:"IP",width:"280"},{default:(0,p.w5)((e=>[(0,p._)("div",y,[(0,p._)("span",h,(0,c.zw)(e.row.ip),1)])])),_:1}),(0,p.Wm)(m,{label:"主机名字",width:"280"},{default:(0,p.w5)((e=>[(0,p._)("div",z,[(0,p._)("span",b,(0,c.zw)(e.row.host_name),1)])])),_:1}),(0,p.Wm)(m,{label:"创建时间",width:"280"},{default:(0,p.w5)((e=>[(0,p._)("div",k,[(0,p.Wm)(v,null,{default:(0,p.w5)((()=>[(0,p.Wm)(g)])),_:1}),(0,p._)("span",W,(0,c.zw)(e.row.created_at),1)])])),_:1}),(0,p.Wm)(m,{label:"操作"},{default:(0,p.w5)((({row:e})=>[(0,p.Wm)(R,{size:"big",type:"success",onClick:a=>$(e)},{default:(0,p.w5)((()=>[x])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,p._)("div",H,[(0,p.Wm)(F,{currentPage:E.value.page,"onUpdate:currentPage":r[0]||(r[0]=e=>E.value.page=e),"page-size":E.value.page_size,"onUpdate:page-size":r[1]||(r[1]=e=>E.value.page_size=e),"page-sizes":[10,20,30,40,50],small:a.value,disabled:l.value,background:I.value,layout:"total, sizes, prev, pager, next, jumper",total:B.value,"current-page":E.value.page,onSizeChange:S,onCurrentChange:q},null,8,["currentPage","page-size","small","disabled","background","total","current-page"])])]),(0,p.Wm)(L,{modelValue:Y.value,"onUpdate:modelValue":r[4]||(r[4]=e=>Y.value=e),title:"发送指令",width:"30%",draggable:""},{footer:(0,p.w5)((()=>[(0,p._)("span",U,[(0,p.Wm)(R,{onClick:r[3]||(r[3]=e=>Y.value=!1)},{default:(0,p.w5)((()=>[V])),_:1}),(0,p.Wm)(R,{type:"primary",onClick:j},{default:(0,p.w5)((()=>[P])),_:1})])])),default:(0,p.w5)((()=>[(0,p.Wm)(K,{model:Z.value},{default:(0,p.w5)((()=>[(0,p.Wm)(J,null,{default:(0,p.w5)((()=>[C,(0,p.Wm)(G,{modelValue:Z.value.content,"onUpdate:modelValue":r[2]||(r[2]=e=>Z.value.content=e),autocomplete:"off",placeholder:"指令为linux命令 如: ls && mkdir && cd /root/xxx/stat.sh",style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}},Y=l(3744);const Z=(0,Y.Z)(I,[["__scopeId","data-v-3f853d14"]]);var $=Z}}]);
//# sourceMappingURL=328.cfbe9d3a.js.map