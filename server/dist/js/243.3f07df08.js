"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[243],{9243:function(e,a,l){l.r(a),l.d(a,{default:function(){return Y}});l(9737);var t=l(6810),i=l(4195),n=l(971),u=l(366),s=l(8276),o=l(4181),d=l(3378),r=l(6252),p=l(3577),c=l(2262),m=l(2201),g=l(842),w=l(1348);const v={class:"machine-list"},_={style:{display:"flex","align-items":"center"}},f={style:{"margin-left":"10px"}},h={style:{display:"flex","align-items":"center"}},y={style:{"margin-left":"10px"}},k={style:{display:"flex","align-items":"center"}},z={style:{"margin-left":"10px"}},W={style:{display:"flex","align-items":"center"}},b={style:{"margin-left":"10px"}},x=(0,r.Uk)("发送指令"),H={class:"demo-pagination-block"},U=(0,r.Uk)(" 指令    "),V={class:"dialog-footer"},C=(0,r.Uk)("取消"),P=(0,r.Uk)("发送");var B={__name:"machine",setup(e){(0,c.iH)(null);const a=async e=>{let a={machine_code:e.machine_code,ip:e.ip,remark:e.remark},l=await(0,g.gS)(a);console.log(l),2e3===l.code&&(w.z8.success(l.msg),R())},l=(0,c.iH)(!1),B=(0,c.iH)(!1),I=(0,c.iH)(!1),S=((0,m.tv)(),(0,c.iH)(!1)),Y=(0,c.iH)({content:"",ip:""}),Z=e=>{S.value=!0,Y.value.ip=e.ip},$=async()=>{let e={ip:Y.value.ip,content:Y.value.content},a=await(0,g.$p)(e);console.log(a),2e3===a.code&&(w.z8.success("指令发送成功"),S.value=!1,R())},j=(0,c.iH)(0),D=(0,c.iH)([]),E=(0,c.iH)({page:1,page_size:10}),R=((0,c.iH)(),async()=>{let e={page:E.value.page,page_size:E.value.page_size},a=await(0,g.cB)(e);2e3!==a.code&&(a.data=[]),D.value=a.data.list,j.value=a.data.total});R();const q=e=>{E.value.page_size=e,E.value.page=1,R()},A=e=>{E.value.page=e,R()};return(e,c)=>{const m=u.$Y,g=d.EZ,w=(0,r.up)("timer"),R=o.gn,F=s.mi,G=u.eI,J=n.R,K=i.nH,L=i.ly,M=t.d0;return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",v,[(0,r.Wm)(G,{data:D.value,style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"机器码",width:"290"},{default:(0,r.w5)((e=>[(0,r._)("div",_,[(0,r._)("span",f,(0,p.zw)(e.row.machine_code),1)])])),_:1}),(0,r.Wm)(m,{label:"IP",width:"280"},{default:(0,r.w5)((e=>[(0,r._)("div",h,[(0,r._)("span",y,(0,p.zw)(e.row.ip),1)])])),_:1}),(0,r.Wm)(m,{label:"主机名字",width:"280"},{default:(0,r.w5)((e=>[(0,r._)("div",k,[(0,r._)("span",z,(0,p.zw)(e.row.host_name),1)])])),_:1}),(0,r.Wm)(m,{label:"备注",width:"280"},{default:(0,r.w5)((e=>[(0,r.Wm)(g,{modelValue:e.row.remark,"onUpdate:modelValue":a=>e.row.remark=a,class:"w-50 m-2",size:"large",placeholder:"请输入备注",onBlur:l=>a(e.row)},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:1}),(0,r.Wm)(m,{label:"创建时间",width:"280"},{default:(0,r.w5)((e=>[(0,r._)("div",W,[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w)])),_:1}),(0,r._)("span",b,(0,p.zw)(e.row.created_at),1)])])),_:1}),(0,r.Wm)(m,{label:"操作"},{default:(0,r.w5)((({row:e})=>[(0,r.Wm)(F,{size:"big",type:"success",onClick:a=>Z(e)},{default:(0,r.w5)((()=>[x])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,r._)("div",H,[(0,r.Wm)(J,{currentPage:E.value.page,"onUpdate:currentPage":c[0]||(c[0]=e=>E.value.page=e),"page-size":E.value.page_size,"onUpdate:page-size":c[1]||(c[1]=e=>E.value.page_size=e),"page-sizes":[10,20,30,40,50],small:l.value,disabled:B.value,background:I.value,layout:"total, sizes, prev, pager, next, jumper",total:j.value,"current-page":E.value.page,onSizeChange:q,onCurrentChange:A},null,8,["currentPage","page-size","small","disabled","background","total","current-page"])])]),(0,r.Wm)(M,{modelValue:S.value,"onUpdate:modelValue":c[4]||(c[4]=e=>S.value=e),title:"发送指令",width:"30%",draggable:""},{footer:(0,r.w5)((()=>[(0,r._)("span",V,[(0,r.Wm)(F,{onClick:c[3]||(c[3]=e=>S.value=!1)},{default:(0,r.w5)((()=>[C])),_:1}),(0,r.Wm)(F,{type:"primary",onClick:$},{default:(0,r.w5)((()=>[P])),_:1})])])),default:(0,r.w5)((()=>[(0,r.Wm)(L,{model:Y.value},{default:(0,r.w5)((()=>[(0,r.Wm)(K,null,{default:(0,r.w5)((()=>[U,(0,r.Wm)(g,{modelValue:Y.value.content,"onUpdate:modelValue":c[2]||(c[2]=e=>Y.value.content=e),autocomplete:"off",placeholder:"指令为linux命令 如: ls && mkdir && cd /root/xxx/stat.sh",style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}},I=l(3744);const S=(0,I.Z)(B,[["__scopeId","data-v-301a1f50"]]);var Y=S}}]);
//# sourceMappingURL=243.3f07df08.js.map